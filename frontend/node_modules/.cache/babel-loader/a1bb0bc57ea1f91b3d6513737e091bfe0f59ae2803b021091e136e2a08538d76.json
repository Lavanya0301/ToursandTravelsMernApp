{"ast":null,"code":"import _slicedToArray from\"D:/MernStack-Tour-Management-main/tour-management/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from\"react\";import'../styles/tour-details.css';import{Container,Row,Col,Form,ListGroup}from'reactstrap';import{useParams}from'react-router-dom';import tourData from'../assets/data/tours';import calculateAvgRating from\"../utils/avgRating\";import avatar from'../assets/images/avatar.jpg';import Booking from\"../components/Booking/Booking\";import Newsletter from\"../shared/Newsletter\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TourDetails=function TourDetails(){var _useParams=useParams(),id=_useParams.id;var reviewMsgRef=useRef('');var _useState=useState(null),_useState2=_slicedToArray(_useState,2),tourRating=_useState2[0],setTourRating=_useState2[1];var tour=tourData.find(function(tour){return tour.id===id;});var photo=tour.photo,title=tour.title,desc=tour.desc,price=tour.price,address=tour.address,reviews=tour.reviews,city=tour.city,distance=tour.distance,maxGroupSize=tour.maxGroupSize;var _calculateAvgRating=calculateAvgRating(reviews),totalRating=_calculateAvgRating.totalRating,avgRating=_calculateAvgRating.avgRating;var options={day:'numeric',month:'long',year:'numeric'};var submitHandler=function submitHandler(e){e.preventDefault();var reviewText=reviewMsgRef.current.value;};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:\"8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tour__content\",children:[/*#__PURE__*/_jsx(\"img\",{src:photo,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour__info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-5\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"tour__rating d-flex align-items-center gap-1\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-fill\",style:{'color':\"var(--secondary-color)\"}}),avgRating===0?null:avgRating,totalRating===0?'Not rated':/*#__PURE__*/_jsxs(\"span\",{children:[\"(\",reviews===null||reviews===void 0?void 0:reviews.length,\")\"]})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-user-fill\"}),\" \",address]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour__extra-details\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-2-line\"}),\" \",city]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-money-dollar-circle-line\"}),\" $\",price,\" /per person\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-time-line\"}),\" \",distance,\" k/m\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-group-line\"}),\" \",maxGroupSize,\" people\"]})]}),/*#__PURE__*/_jsx(\"h5\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{children:desc})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour__reviews mt-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Reviews (\",reviews===null||reviews===void 0?void 0:reviews.length,\" reviews)\"]}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-3 mb-4\\r rating__group\",children:[/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(1);},children:[\"1 \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(2);},children:[\"2 \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(3);},children:[\"3 \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(4);},children:[\"4 \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(5);},children:[\"5 \",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"review__input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:reviewMsgRef,placeholder:\"share your thoughts\",required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"btn primary__btn text-white\",type:\"submit\",children:\"Submit\"})]})]}),/*#__PURE__*/_jsx(ListGroup,{className:\"user__reviews\",children:reviews===null||reviews===void 0?void 0:reviews.map(function(review){return/*#__PURE__*/_jsxs(\"div\",{className:\"review__item\",children:[/*#__PURE__*/_jsx(\"img\",{src:avatar,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center \\r justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"lavan\"}),/*#__PURE__*/_jsx(\"p\",{children:new Date('03-20-2023').toLocaleDateString(\"en-US\",options)})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"d-flex align-items-center\",children:[\"5\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]})]}),/*#__PURE__*/_jsx(\"h6\",{children:\"Amazing tour\"})]})]});})})]})]})}),/*#__PURE__*/_jsx(Col,{lg:\"4\",children:/*#__PURE__*/_jsx(Booking,{tour:tour,avgRating:avgRating})})]})})}),/*#__PURE__*/_jsx(Newsletter,{})]});};export default TourDetails;","map":{"version":3,"names":["React","useRef","useState","Container","Row","Col","Form","ListGroup","useParams","tourData","calculateAvgRating","avatar","Booking","Newsletter","TourDetails","id","reviewMsgRef","tourRating","setTourRating","tour","find","photo","title","desc","price","address","reviews","city","distance","maxGroupSize","totalRating","avgRating","options","day","month","year","submitHandler","e","preventDefault","reviewText","current","value","length","map","review","Date","toLocaleDateString"],"sources":["D:/MernStack-Tour-Management-main/tour-management/frontend/src/pages/TourDetails.jsx"],"sourcesContent":["import React,{useRef, useState} from \"react\";\r\nimport '../styles/tour-details.css'\r\nimport { Container, Row,Col, Form,ListGroup } from 'reactstrap'\r\nimport {useParams} from 'react-router-dom'\r\nimport tourData from '../assets/data/tours'\r\nimport calculateAvgRating from \"../utils/avgRating\";\r\nimport avatar from '../assets/images/avatar.jpg';\r\nimport Booking from \"../components/Booking/Booking\";\r\nimport Newsletter from \"../shared/Newsletter\";\r\n\r\nconst TourDetails = () => {\r\n\r\n    const {id} = useParams()\r\n    const reviewMsgRef = useRef('')\r\n    const [tourRating, setTourRating]=useState(null)\r\n\r\n    const tour = tourData.find(tour=> tour.id === id)\r\n\r\n    const {photo, title, desc, price, address, reviews, city, distance, maxGroupSize} = tour;\r\n\r\n    const {totalRating, avgRating} = calculateAvgRating(reviews)\r\n\r\n    const options = {day:'numeric',month:'long',year:'numeric'};\r\n\r\n    const submitHandler = e=>{\r\n        e.preventDefault()\r\n        const reviewText = reviewMsgRef.current.value\r\n\r\n       \r\n\r\n    }\r\n\r\n    return (\r\n    <>\r\n\r\n    <section>\r\n        <Container>\r\n            <Row>\r\n                <Col lg='8'>\r\n                    <div className=\"tour__content\">\r\n                        <img src={photo} alt=\"\" />\r\n\r\n                        <div className=\"tour__info\">\r\n                            <h2>{title}</h2>\r\n                            <div className=\"d-flex align-items-center gap-5\">\r\n                            <span className=\"tour__rating d-flex align-items-center gap-1\">\r\n                <i \r\n                  class=\"ri-star-fill\" \r\n                  style={{'color':\"var(--secondary-color)\"}}\r\n                  ></i> \r\n                  {avgRating === 0 ? null : avgRating}\r\n                  {totalRating === 0 ? (\r\n                    'Not rated'\r\n                    ) : ( \r\n                    <span>({reviews?.length})</span>\r\n                    )}\r\n                </span>\r\n\r\n                        <span>\r\n                        <i class=\"ri-map-pin-user-fill\"></i> {address}\r\n                        </span>\r\n                        </div>\r\n\r\n                        <div className=\"tour__extra-details\">\r\n                            <span>\r\n                                <i class=\"ri-map-pin-2-line\"></i> {city}\r\n                            </span>\r\n                            <span>\r\n                                <i class=\"ri-money-dollar-circle-line\"></i> ${price} /per person\r\n                            </span>\r\n                            <span>\r\n                                <i class=\"ri-map-pin-time-line\"></i> {distance} k/m\r\n                            </span>\r\n                            <span>\r\n                                <i class=\"ri-group-line\"></i> {maxGroupSize} people\r\n                            </span>\r\n                        </div>\r\n                        <h5>Description</h5>\r\n                        <p>{desc}</p>\r\n                        </div>\r\n\r\n                        {/* ========= tour reviews section start ========= */}\r\n                        <div className=\"tour__reviews mt-4\">\r\n                            <h4>Reviews ({reviews?.length} reviews)</h4>\r\n\r\n                            <Form onSubmit={submitHandler}>\r\n                                <div className=\"d-flex align-items-center gap-3 mb-4\r\n                                rating__group\">\r\n                                   <span onClick={()=> setTourRating(1)}>\r\n                                     1 <i class=\"ri-star-s-fill\"></i>\r\n                                   </span>\r\n                                   <span onClick={()=> setTourRating(2)}>\r\n                                     2 <i class=\"ri-star-s-fill\"></i>\r\n                                   </span>\r\n                                   <span onClick={()=> setTourRating(3)}>\r\n                                     3 <i class=\"ri-star-s-fill\"></i>\r\n                                   </span>\r\n                                   <span onClick={()=> setTourRating(4)}>\r\n                                     4 <i class=\"ri-star-s-fill\"></i>\r\n                                   </span>\r\n                                   <span onClick={()=> setTourRating(5)}>\r\n                                     5 <i class=\"ri-star-s-fill\"></i>\r\n                                   </span>\r\n                                </div>\r\n\r\n                                <div className=\"review__input\">\r\n                                    <input \r\n                                     type=\"text\" \r\n                                     ref={reviewMsgRef} \r\n                                     placeholder=\"share your thoughts\"\r\n                                     required\r\n                                    />\r\n                                    <button \r\n                                    className=\"btn primary__btn text-white\" type=\"submit\">\r\n                                      Submit\r\n                                    </button>\r\n                                </div>\r\n                            </Form>\r\n\r\n                            <ListGroup className=\"user__reviews\">\r\n                                {reviews?.map(review=>(\r\n                                    <div className=\"review__item\">\r\n                                        <img src={avatar} alt=\"\" />\r\n                                            \r\n                                        <div className=\"w-100\">\r\n                                             <div className=\"d-flex align-items-center \r\n                                                justify-content-between\">\r\n                                                    <div>\r\n                                                        <h5>lavan</h5>\r\n                                                        <p>{new Date('03-20-2023').toLocaleDateString(\r\n                                                            \"en-US\", options\r\n                                                            )}\r\n                                                        </p>\r\n                                                    </div>\r\n                                                    <span className=\"d-flex align-items-center\">\r\n                                                        5<i class=\"ri-star-s-fill\"></i>\r\n                                                    </span>\r\n                                             </div>\r\n                                             <h6>Amazing tour</h6>\r\n                                        </div>\r\n                                    </div>\r\n                                    ))\r\n                                }\r\n                            </ListGroup>\r\n                        </div>\r\n                        {/* ========= tour reviews section end ========= */}\r\n                    </div>\r\n                </Col>\r\n\r\n                <Col lg='4'>\r\n                   <Booking tour={tour} avgRating={avgRating}/>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    </section>\r\n    <Newsletter />\r\n    </>\r\n    );\r\n};\r\n\r\nexport default TourDetails;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}